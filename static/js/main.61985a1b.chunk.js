(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{196:function(e,t,a){e.exports=a(409)},201:function(e,t,a){},229:function(e,t){},232:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(54),i=a.n(c),o=(a(201),a(91)),l=a(18),u=a(157),m=a.n(u),s=(a(232),a(158)),k=a(12),d={display:"flex"},E={"border-style":"solid",padding:50,margin:10},f={padding:20},v=function(e){var t=e.info,a=e.transado,n=e.buy,c=e.sell,i=e.extra,o=e.exchanges,l=e.stocks,u=[],m=[],v=[];for(var p in o)u.push(Object(s.a)({},o[p].exchange_ticker,o[p].listed_companies));var h=0,b=[],g=function(e){v.push(o[e].exchange_ticker),u.forEach((function(t){var a=o[e].exchange_ticker;t[a]&&(m[a]={},m[a].cantidad_acciones=t[a].length,m[a].buy=0,m[a].sell=0,m[a].nombre=a,l.forEach((function(e){t[a].forEach((function(t){e.company_name===t&&(b.push([e.ticker,e.company_name,e.country]),n[0]&&n[0][e.ticker]&&(m[a].buy+=n[0][e.ticker].transado,h+=n[0][e.ticker].transado),c[0]&&c[0][e.ticker]&&(m[a].sell+=c[0][e.ticker].transado,h+=c[0][e.ticker].transado))}))})),m[a].total=m[a].buy+m[a].sell)}))};for(var y in o)g(y);return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h1",{style:f},e[0].ticker),r.a.createElement("div",{style:d},r.a.createElement(k.d,{width:750,height:450,data:e,margin:{top:5,right:30,left:30,bottom:5}},r.a.createElement(k.a,{strokeDasharray:"3 3"}),r.a.createElement(k.f,{dataKey:"time"}),r.a.createElement(k.g,null),r.a.createElement(k.e,null),r.a.createElement(k.b,null),r.a.createElement(k.c,{type:"monotone",dataKey:e[0].ticker,stroke:"#8884d8",activeDot:{r:8}})),r.a.createElement("div",{style:E},r.a.createElement("h3",null,"Informaci\xf3n relevante:"),b.map((function(t){if(t[0]===e[0].ticker)return r.a.createElement("div",null,r.a.createElement("p",null,"Nombre Compa\xf1ia: ",r.a.createElement("strong",null,t[1])),r.a.createElement("p",null,"Pa\xeds de Origen: ",r.a.createElement("strong",null,t[2])))})),i.map((function(t){if(t[e[0].ticker])return r.a.createElement("div",{key:Math.random(),display:"flex","flex-direction":"row","flex-wrap":"wrap"},r.a.createElement("p",null,"Precio m\xe1s alto:"," ",r.a.createElement("strong",null,t[e[0].ticker].alto)),r.a.createElement("p",null,"Precio m\xe1s bajo:"," ",r.a.createElement("strong",null,t[e[0].ticker].bajo)),r.a.createElement("p",null,"\xdaltimo precio:"," ",r.a.createElement("strong",null,t[e[0].ticker].ultimo)),r.a.createElement("p",null,"Variaci\xf3n porcentual:"," ",r.a.createElement("strong",null,t[e[0].ticker].variacion,"%")))})),a.map((function(t){if(t[e[0].ticker])return r.a.createElement("div",null,r.a.createElement("p",null,"Volumen transado:"," ",r.a.createElement("strong",null,t[e[0].ticker].transado)))})))))})),r.a.createElement("div",{id:"exchanges",style:d},v.map((function(e){if(e)return r.a.createElement("div",{style:E},r.a.createElement("h1",{style:f},r.a.createElement("p",null,"Exchange: ",m[e].nombre)),r.a.createElement("center",null,r.a.createElement("p",null,"Suma Buy: ",m[e].buy),r.a.createElement("p",null,"Suma Sell: ",m[e].sell),r.a.createElement("p",null,"Volumen Total: ",m[e].total),r.a.createElement("p",null,"Cantidad de acciones:"," ",m[e].cantidad_acciones),r.a.createElement("p",null,"Participaci\xf3n"," ",Math.round(m[e].total/h*1e4)/100,"%")))}))))},p=m()("wss://le-18262636.bitzonte.com",{path:"/stocks",protocols:"wss://",transports:["polling","websocket"]}),h=[];p.on("STOCKS",(function(e){h=e})),p.emit("STOCKS","oli");var b=[];p.on("EXCHANGES",(function(e){b=e,console.log(b)})),p.emit("EXCHANGES","oli");var g={"margin-left":"300",padding:30,color:"#FFFFFF","background-color":"#000000"},y=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),m=u[0],s=u[1],k=[{}],d=Object(n.useState)([]),E=Object(l.a)(d,2),f=E[0],y=E[1],j=[{}],O=[{}],S=Object(n.useState)([]),w=Object(l.a)(S,2),x=(w[0],w[1]),_=Object(n.useState)([]),C=Object(l.a)(_,2),F=C[0],M=C[1],A=[{}],P=Object(n.useState)([]),T=Object(l.a)(P,2),B=T[0],H=T[1],D=[{}];Object(n.useEffect)((function(){p.on("UPDATE",(function(e){c((function(t){return[].concat(Object(o.a)(t),[e])})),k.forEach((function(t){t[e.ticker]?(t[e.ticker].variacion=Math.round((t[e.ticker].ultimo-e.value)/100*100*100)/100,t[e.ticker].ultimo=e.value,e.value<t[e.ticker].bajo&&(t[e.ticker].bajo=e.value),e.value>t[e.ticker].alto&&(t[e.ticker].alto=e.value)):(t[e.ticker]={},t[e.ticker].volumen=0,t[e.ticker].alto=e.value,t[e.ticker].bajo=e.value,t[e.ticker].ultimo=e.value,t[e.ticker].variacion=0,t[e.ticker].ticker=e.ticker)})),s(k)})),p.on("BUY",(function(e){j.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),A.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),y(j),M(A)})),p.on("SELL",(function(e){O.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),j[0][e.ticker]&&(j[0][e.ticker].transado+=e.volume),D.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),x(O),y(j),H(D)}))}),[]),a.forEach((function(e){e.time=new Date(e.time),e.time=e.time.getFullYear()+" "+e.time.getHours()+":"+e.time.getMinutes()+":"+e.time.getSeconds(),e[e.ticker]=e.value}));var K={};a.forEach((function(e){h.forEach((function(t){t.ticker===e.ticker&&(K[e.ticker]?K[e.ticker]=[].concat(Object(o.a)(K[e.ticker]),[e]):K[e.ticker]=[e])}))}));var L=[];for(var I in K)L.push(K[I]);return r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){var e=document.getElementById("boton");p.connected?(p.disconnect(),e.innerHTML="Prender"):(p.connect(),e.innerHTML="Apagar")},value:"Apagar",id:"boton",style:g},"Apagar"),r.a.createElement(v,{info:L,transado:f,buy:F,sell:B,extra:m,stocks:h,exchanges:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);
//# sourceMappingURL=main.61985a1b.chunk.js.map