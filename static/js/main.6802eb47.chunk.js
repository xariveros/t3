(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{198:function(e,t,a){e.exports=a(412)},203:function(e,t,a){},232:function(e,t){},235:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(54),o=a.n(c),i=(a(203),a(89)),l=a.n(i),u=a(158),m=a(92),s=a(18),k=a(159),d=a.n(k),f=(a(235),a(160)),E=a(12),p={display:"flex"},v={"border-style":"solid",padding:50,margin:10},h={padding:20},b=function(e){var t=e.info,a=e.transado,n=e.buy,c=e.sell,o=e.extra,i=e.exchanges,l=e.stocks,u=[],m=[],s=[];for(var k in i)u.push(Object(f.a)({},i[k].exchange_ticker,i[k].listed_companies));var d=0,b=[],g=function(e){s.push(i[e].exchange_ticker),u.forEach((function(t){var a=i[e].exchange_ticker;t[a]&&(m[a]={},m[a].cantidad_acciones=t[a].length,m[a].buy=0,m[a].sell=0,m[a].nombre=a,l.forEach((function(e){t[a].forEach((function(t){e.company_name===t&&(b.push([e.ticker,e.company_name,e.country]),n[0]&&n[0][e.ticker]&&(m[a].buy+=n[0][e.ticker].transado,d+=n[0][e.ticker].transado),c[0]&&c[0][e.ticker]&&(m[a].sell+=c[0][e.ticker].transado,d+=c[0][e.ticker].transado))}))})),m[a].total=m[a].buy+m[a].sell)}))};for(var y in i)g(y);return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",null,r.a.createElement("h1",{style:h},e[0].ticker),r.a.createElement("div",{style:p},r.a.createElement(E.d,{width:750,height:450,data:e,margin:{top:5,right:30,left:30,bottom:5}},r.a.createElement(E.a,{strokeDasharray:"3 3"}),r.a.createElement(E.f,{dataKey:"time"}),r.a.createElement(E.g,{domain:["auto","auto"]}),r.a.createElement(E.e,null),r.a.createElement(E.b,null),r.a.createElement(E.c,{type:"monotone",dataKey:e[0].ticker,stroke:"#8884d8",activeDot:{r:8}})),r.a.createElement("div",{style:v},r.a.createElement("h3",null,"Informaci\xf3n relevante:"),b.map((function(t){if(t[0]===e[0].ticker)return r.a.createElement("div",null,r.a.createElement("p",null,"Nombre Compa\xf1ia: ",r.a.createElement("strong",null,t[1])),r.a.createElement("p",null,"Pa\xeds de Origen: ",r.a.createElement("strong",null,t[2])))})),o.map((function(t){if(t[e[0].ticker])return r.a.createElement("div",{key:Math.random(),display:"flex","flex-direction":"row","flex-wrap":"wrap"},r.a.createElement("p",null,"Precio m\xe1s alto:"," ",r.a.createElement("strong",null,t[e[0].ticker].alto)),r.a.createElement("p",null,"Precio m\xe1s bajo:"," ",r.a.createElement("strong",null,t[e[0].ticker].bajo)),r.a.createElement("p",null,"\xdaltimo precio:"," ",r.a.createElement("strong",null,t[e[0].ticker].ultimo)),r.a.createElement("p",null,"Variaci\xf3n porcentual:"," ",r.a.createElement("strong",null,t[e[0].ticker].variacion,"%")))})),a.map((function(t){if(t[e[0].ticker])return r.a.createElement("div",null,r.a.createElement("p",null,"Volumen transado:"," ",r.a.createElement("strong",null,t[e[0].ticker].transado)))})))))})),r.a.createElement("div",{id:"exchanges",style:p},s.map((function(e){if(e)return r.a.createElement("div",{style:v},r.a.createElement("h1",{style:h},r.a.createElement("p",null,"Exchange: ",m[e].nombre)),r.a.createElement("center",null,r.a.createElement("p",null,"Suma Buy: ",m[e].buy),r.a.createElement("p",null,"Suma Sell: ",m[e].sell),r.a.createElement("p",null,"Volumen Total: ",m[e].total),r.a.createElement("p",null,"Cantidad de acciones:"," ",m[e].cantidad_acciones),r.a.createElement("p",null,"Participaci\xf3n"," ",Math.round(m[e].total/d*1e4)/100,"%")))}))))},g=d()("wss://le-18262636.bitzonte.com",{path:"/stocks",protocols:"wss://",transports:["polling","websocket"]}),y=[];g.on("STOCKS",(function(e){y=e})),g.emit("STOCKS","oli");var j=[];g.on("EXCHANGES",(function(e){j=e,console.log(j)})),g.emit("EXCHANGES","oli");var O={"margin-left":"300",padding:30,color:"#FFFFFF","background-color":"#000000"},S=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),k=i[0],d=i[1],f=[{}],E=Object(n.useState)([]),p=Object(s.a)(E,2),v=p[0],h=p[1],S=[{}],w=[{}],x=Object(n.useState)([]),_=Object(s.a)(x,2),C=(_[0],_[1]),A=Object(n.useState)([]),F=Object(s.a)(A,2),M=F[0],P=F[1],T=[{}],B=Object(n.useState)([]),L=Object(s.a)(B,2),D=L[0],H=L[1],K=[{}];Object(n.useEffect)((function(){g.on("UPDATE",(function(e){c((function(t){return[].concat(Object(m.a)(t),[e])})),f.forEach((function(t){t[e.ticker]?(t[e.ticker].variacion=-Math.round((t[e.ticker].ultimo-e.value)/100*100*100)/100,t[e.ticker].ultimo=e.value,e.value<t[e.ticker].bajo&&(t[e.ticker].bajo=e.value),e.value>t[e.ticker].alto&&(t[e.ticker].alto=e.value)):(t[e.ticker]={},t[e.ticker].volumen=0,t[e.ticker].alto=e.value,t[e.ticker].bajo=e.value,t[e.ticker].ultimo=e.value,t[e.ticker].variacion=0,t[e.ticker].ticker=e.ticker)})),d(f)})),g.on("BUY",(function(e){S.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),T.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),h(S),P(T)})),g.on("SELL",(function(e){w.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),S[0][e.ticker]&&(S[0][e.ticker].transado+=e.volume),K.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),C(w),h(S),H(K)}))}),[]),a.forEach(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.time=new Date(t.time),t.time=t.time.toLocaleString("en-US"),t[t.ticker]=t.value;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var I={};a.forEach((function(e){y.forEach((function(t){t.ticker===e.ticker&&(I[e.ticker]?I[e.ticker]=[].concat(Object(m.a)(I[e.ticker]),[e]):I[e.ticker]=[e])}))}));var N=[];for(var U in I)N.push(I[U]);return r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(){var e=document.getElementById("boton");g.connected?(g.disconnect(),e.innerHTML="Prender"):(g.connect(),e.innerHTML="Apagar")},value:"Apagar",id:"boton",style:O},"Apagar"),r.a.createElement(b,{info:N,transado:v,buy:M,sell:D,extra:k,stocks:y,exchanges:j}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[198,1,2]]]);
//# sourceMappingURL=main.6802eb47.chunk.js.map