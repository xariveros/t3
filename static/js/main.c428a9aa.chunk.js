(this.webpackJsonpt3=this.webpackJsonpt3||[]).push([[0],{196:function(e,t,a){e.exports=a(409)},201:function(e,t,a){},229:function(e,t){},232:function(e,t,a){},409:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(54),i=a.n(r),o=(a(201),a(91)),l=a(18),u=a(157),s=a.n(u),m=(a(232),a(158)),k=a(12),d={display:"flex"},f={padding:50},E={padding:30},v=function(e){var t=e.info,a=e.transado,n=e.buy,r=e.sell,i=e.extra,o=e.exchanges,l=e.stocks,u=[],s=[],v=[];for(var p in o)u.push(Object(m.a)({},o[p].exchange_ticker,o[p].listed_companies));var h=0,b=function(e){v.push(o[e].exchange_ticker),u.forEach((function(t){var a=o[e].exchange_ticker;t[a]&&(s[a]={},s[a].cantidad_acciones=t[a].length,s[a].buy=0,s[a].sell=0,s[a].nombre=a,l.forEach((function(e){t[a].forEach((function(t){e.company_name===t&&(n[0]&&n[0][e.ticker]&&(s[a].buy+=n[0][e.ticker].transado,h+=n[0][e.ticker].transado),r[0]&&r[0][e.ticker]&&(s[a].sell+=r[0][e.ticker].transado,h+=r[0][e.ticker].transado))}))})),s[a].total=s[a].buy+s[a].sell)}))};for(var g in o)b(g);return c.a.createElement("div",null,t.map((function(e){return c.a.createElement("div",null,c.a.createElement("h1",{style:E},e[0].ticker),c.a.createElement("div",{style:d},c.a.createElement(k.d,{width:500,height:300,data:e,margin:{top:5,right:30,left:30,bottom:5}},c.a.createElement(k.a,{strokeDasharray:"3 3"}),c.a.createElement(k.f,{dataKey:"time"}),c.a.createElement(k.g,null),c.a.createElement(k.e,null),c.a.createElement(k.b,null),c.a.createElement(k.c,{type:"monotone",dataKey:e[0].ticker,stroke:"#8884d8",activeDot:{r:8}})),i.map((function(t){if(t[e[0].ticker])return c.a.createElement("div",{key:Math.random(),display:"flex","flex-direction":"row","flex-wrap":"wrap"},c.a.createElement("p",null,"Precio m\xe1s alto: ",t[e[0].ticker].alto),c.a.createElement("p",null,"Precio m\xe1s bajo: ",t[e[0].ticker].bajo),c.a.createElement("p",null,"\xdaltimo precio: ",t[e[0].ticker].ultimo),c.a.createElement("p",null,"Variaci\xf3n porcentual: ",t[e[0].ticker].variacion,"%"))})),a.map((function(t){if(t[e[0].ticker])return c.a.createElement("div",null,c.a.createElement("p",null,"Volumen transado: ",t[e[0].ticker].transado))}))))})),c.a.createElement("div",{id:"exchanges",style:d},v.map((function(e){if(e)return c.a.createElement("div",{style:f},c.a.createElement("h1",{style:E},c.a.createElement("p",null,"Exchange: ",s[e].nombre)),c.a.createElement("p",null,"Suma Buy: ",s[e].buy),c.a.createElement("p",null,"Suma Sell: ",s[e].sell),c.a.createElement("p",null,"Volumen Total: ",s[e].total),c.a.createElement("p",null,"Cantidad de acciones: ",s[e].cantidad_acciones),c.a.createElement("p",null,"Participaci\xf3n"," ",Math.round(s[e].total/h*1e4)/100,"%"))}))))},p=s()("wss://le-18262636.bitzonte.com",{path:"/stocks",protocols:"wss://",transports:["polling","websocket"]}),h=[];p.on("STOCKS",(function(e){h=e})),p.emit("STOCKS","oli");var b=[];p.on("EXCHANGES",(function(e){b=e,console.log(b)})),p.emit("EXCHANGES","oli");var g={margin:"10",padding:10,listStyle:"none",center:1},y=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],m=u[1],k=[{}],d=Object(n.useState)([]),f=Object(l.a)(d,2),E=f[0],y=f[1],j=[{}],S=[{}],O=Object(n.useState)([]),w=Object(l.a)(O,2),x=(w[0],w[1]),M=Object(n.useState)([]),T=Object(l.a)(M,2),_=T[0],A=T[1],C=[{}],B=Object(n.useState)([]),P=Object(l.a)(B,2),D=P[0],H=P[1],K=[{}];Object(n.useEffect)((function(){p.on("UPDATE",(function(e){r((function(t){return[].concat(Object(o.a)(t),[e])})),k.forEach((function(t){t[e.ticker]?(t[e.ticker].variacion=Math.round((t[e.ticker].ultimo-e.value)/100*100*100)/100,t[e.ticker].ultimo=e.value,e.value<t[e.ticker].bajo&&(t[e.ticker].bajo=e.value),e.value>t[e.ticker].alto&&(t[e.ticker].alto=e.value)):(t[e.ticker]={},t[e.ticker].volumen=0,t[e.ticker].alto=e.value,t[e.ticker].bajo=e.value,t[e.ticker].ultimo=e.value,t[e.ticker].variacion=0,t[e.ticker].ticker=e.ticker)})),m(k)})),p.on("BUY",(function(e){j.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),C.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),y(j),A(C)})),p.on("SELL",(function(e){S.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),j[0][e.ticker]&&(j[0][e.ticker].transado+=e.volume),K.forEach((function(t){t[e.ticker]?t[e.ticker].transado+=e.volume:(t[e.ticker]={},t[e.ticker].ticker=e.ticker,t[e.ticker].transado=e.volume)})),x(S),y(j),H(K)}))}),[]),a.forEach((function(e){e.time=new Date(e.time),e.time=e.time.toGMTString(),e[e.ticker]=e.value}));var L={};a.forEach((function(e){h.forEach((function(t){t.ticker===e.ticker&&(L[e.ticker]?L[e.ticker]=[].concat(Object(o.a)(L[e.ticker]),[e]):L[e.ticker]=[e])}))}));var G=[];for(var V in L)G.push(L[V]);return c.a.createElement("div",null,c.a.createElement("button",{type:"submit",onClick:function(){var e=document.getElementById("boton");p.connected?(p.disconnect(),e.innerHTML="Prender"):(p.connect(),e.innerHTML="Apagar")},value:"Apagar",id:"boton",style:g},"Apagar"),c.a.createElement(v,{info:G,transado:E,buy:_,sell:D,extra:s,stocks:h,exchanges:b}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[196,1,2]]]);
//# sourceMappingURL=main.c428a9aa.chunk.js.map